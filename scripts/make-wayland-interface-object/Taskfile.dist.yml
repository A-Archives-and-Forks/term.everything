# yaml-language-server: $schema=https://taskfile.dev/schema.json

version: "3"

includes:
  gen-protocol: ../generate_protocol

tasks:


  default:
    silent: true
    deps:
      - gen-protocol:build
    cmds:
      - mkdir -p src/objects
      - bun scripts/make-wayland-interface-object/main.ts
    env:
      INTERFACE_FILE_PATH: "{{.ROOT_DIR}}/src/protocols/wayland.xml.ts"
      INTERFACE_NAME: "{{.INTERFACE}}"
      OUT_DIR: "{{.ROOT_DIR}}/src/objects"
      FORCE: "{{.FORCE}}"
      GLOBAL: "{{.GLOBAL}}"
