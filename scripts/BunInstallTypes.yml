# yaml-language-server: $schema=https://taskfile.dev/schema.json

version: "3"

tasks:
  run:
    silent: true
    cmds:
      - bun install
      # remove the bundled libstdc++ that canvas ships with and use the system one
      - rm -f ./node_modules/canvas/build/Release/libstdc++.so.6
      - |
        cd scripts
        bun install
    desc: install all js/ts modules so Intellisense can find the types
    status:
      - test -d node_modules
      - test -d scripts/node_modules
  clean:
    cmds:
      - rm -rf node_modules
      - rm -rf scripts/node_modules